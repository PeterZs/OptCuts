\section{Topology Steps for Discrete Optimization}

\subsection{Evaluating Topological Operations via Optimization on Local Stencils}

Candidate Filtering:
for each vertex
  compute divergence of local gradients
independently picking $\sqrt{n_{v,b}^i}$ boundary vertices and $\sqrt{n_{v,i}^i}$ interior vertices with largest divergence as candidates

Local Evaluation:
for each candidate vertex
  if on boundary
    for each interior incident edge
      split and compute $\Delta E_{SD,l}$ locally
      compute $\Delta E_{w,l} = (1 - \lambda_t) \Delta E_{SD,l} + \lambda_t \Delta E_{se}$
  else
    for each pair of incident edges forming a smooth path
      split and compute $\Delta E_{SD,l}$ locally
      compute $\Delta E_{w,l} = 0.5((1 - \lambda_t) \Delta E_{SD,l} + \lambda_t \Delta E_{se})$

split the vertex with largest $|\Delta E_{w,l}|$
turn on fracture propagation

\textcolor{red}{try larger stencils}

\textcolor{red}{enable merge operation}

\textcolor{red}{\subsection{Line Search in Topological Space}}

Current Fracture Propagation:
if fracture propagation is on
  for each fracture tail vertex $k$
    for each interior incident edge of $k$
      split and compute $\Delta E_{SD, l}$ locally
      compute $\Delta E_{w,l} = (1 - \lambda_t) \Delta E_{SD,l} + \lambda_t \Delta E_{se}$
  if the largest $|\Delta E_{w,l}|$ is larger than $|(1-\lambda_t)\Delta E_{SD}^j|$
    propagate fracture by splitting the vertex
  else
    turn off fracture propagation for the rest of the current descent step