% !TeX root = OptCuts.tex

\section{Introduction}
% context
Mapping three-dimensional meshes to the plane is a fundamental task in computer graphics.  The two-dimensional mesh embeddings produced by the mapping methods are commonly used to store reflectance functions, normals, and displacements
for the mesh, providing a domain for painting, synthesizing, and manipulating texture and geometric details. 
%Mesh parameterization is a critical task in computer graphics, with applications including texture mapping, remeshing, and detail transfer.  
%\vova{I removed non-texture apps for now, because I'm not sure if our formulation is as easy to motivate for remeshing and detail transfer.}
The usability of such 2D embeddings for he tasks at hand is highly dependent on two interconnected factors: the surface distortion introduced by the mapping and the length of the surface cuts, or surface seams that the mapping is discontinuous across~\cite{Sheffer07_ParameterizationSurvey,Hormann07_ParameterizationSurvey}. Both high distortion and longer seams are detrimental to downstream applications. Yet, reducing distortion below some intrinsic surface bound typically requires introducing longer seams. 
% To do so, parameterization tools must cope with intertwined challenges in topology and geometry:  a high-quality parameterization must cut a surface into simple %disk-shape 
%patches so that each can be mapped to the plane with a reasonably small level of distortion.

Given its broad applicability, it comes as no surprise that parameterization has long been a focus of research in geometry processing.  Algorithms in this domain focus on these two key aspects of the problem \cite{Sheffer07_ParameterizationSurvey,Hormann07_ParameterizationSurvey}.  Particularly well-studied are \emph{geometric} techniques that assume a surface has already been cut into disk-topology charts that each need to be mapped into the plane with minimal distortion while maintaining fixed connectivity; at this point, parameterization becomes a real-valued optimization problem that seeks to minimize changes in mesh angles and areas while maintaining local or global injectivity. Complementing these techniques, \emph{topological} algorithms find reasonable seams, either keeping the surface in one piece or partitioning it into individual charts that can be parameterized with low distortion.   

With a few notable exceptions, previous works treat seam placement and fixed-topology mapping as separate steps in the parameterization pipeline.  This is a key drawback, as seam location and length have strong bearing on the best \emph{possible} geometric parameterization of the resulting charts.  Coupling geometry and topology, however, requires navigating between two extremes: a zero-distortion parameterization whose seams pass through nearly every mesh vertex, or a high-distortion injective mapping created by only introducing the cuts necessary to accomplish disk topology.
%
%\vova{not sure if we need to discuss the two extremes. I also moved some prior work discussion here.} % justin kind of likes this sentence so he decided to comment out Vova's comment :-)
%
Most previous techniques for seam placement rely on heuristics that seek to balance seam length against distortion, such as computing a minimal spanning tree that traverses well distributed high-curvature surface points~\cite{Sheffer2002Seamster}, incrementally adding cuts that connect current seams to current points of maximal distortion~\cite{Gu2002Geometry}, or greedily introducing seams during iterative flattening based on a hard distortion bound~\cite{BoundedDistortParam:2002}. \alla{should we mention AutoCut here?}

In contrast to these methods, we propose a joint optimization framework {\em OptCuts}, based on minimizing an objective function that directly balances the two core requirements.%, where discrete and continuous steps minimize the same global objective. 
% task and object    
%Our parameterization algorithm, {\em OptCuts}, %couples topology and geometry. OptCuts %<--- already said this
OptCuts minimizes this objective function using a joint discrete-continuous optimization that alternates distortion minimization and seam update steps,  seeking for a locally optimal UV map satisfying a user-provided, distortion bound. 
%
We measure the trade-off between topology (seams) and geometry (distortion) by balancing a distortion measure of choice, e.g.\ the symmetric Dirichlet energy~\cite{Smith2015Bijective} against normalized seam length; we reach a parameterization that is near-stationary with respect to both seam placement and coordinate positions. % within a bounded number of iterations. % Justin removed --- I'm not sure this is a feature worth selling unless the bound is favorable
%\minchen{[NOTE] (Here stationary w.r.t. UV topology is only in the approximation sense, because there might still be basic topological operations that could decrease the objective but end up not chosen because it is filtered out or its locally evaluated energy decrease is not the largest one.)}

% self-weighting
%Although we acquire adaptivity to various inputs by normalizing the energy, %<-- not sure what this means
Naively balancing distortion and seam length requires a choice of a relative scaling factor between these two objectives.  From a practical perspective, it is difficult for users to choose such a coefficient as the two terms measure very different quantities. %trading off between the two. 
%Likewise, i
To achieve high-quality solutions this balancing factor must often be %somehow 
manually updated  to achieve desired results~\cite{Poranne2017Autocuts}. In contrast users typically have a clear sense of the amount of distortion they consider acceptable. Motivated by this observation we cast the coupled seam and mapping optimization as a \emph{constrained} problem and find locally minimal seam lengths given a user-set distortion bound. Treating distortion bounds as a hard inequality constraint guarantees a pre-specified level of geometric quality, while enabling the exploration of optimal seams satisfying this bound. %In turn, o %<--- not sure what ``in turn'' means in this context
As a result, our balancing scaling factor follows directly from our model problem as the \emph{Lagrange multiplier} of the distortion bound and is thus adaptively updated by seeking optimality during the course of the minimization process.  %directly by our optimization method.
%(Section~\ref{sec:self_weighting}).

% challenge
%Another advantage of our method is that our optimization is combinatorial, 
%
%In contrast to previous work building up a parameterization from disconnected triangle soup~\cite{Poranne2017Autocuts},  or by cutting between points of maximal predicted distortion~\cite{Gu2002Geometry,Sheffer2002Seamster}, 
%
\alla{does this belong here or in related work?} 
Instead of building up a parameterization from disconnected triangle soup~\cite{Poranne2017Autocuts}, our constrained optimization method minimizes seams combinatorially, directly extending real-valued distortion minimization to the regime where seams can be incrementally introduced by cutting and removed by merging. 
\alla{line search?  this is not true IMHO...}
Distortion is typically reduced by line search in UV coordinate space; we now accompany this by introducing a secondary search procedure in ``topology space'': we alternate between reducing distortion on vertex position and introducing topology changes with respect to the first-order reduction they generate in our objective formed by the local weighted sum of distortion and seam length terms. %in each topology search iteration we first find a search direction that locally decrease the objective the most (in topology step, Section~\ref{sec:topologyStep}); and then we conduct a newly derived forward-tracking line search scheme alternated with distortion minimization iterations to decide the step-size (in smooth descent step, Section~\ref{sec:descentStep}).% too much detail for intro
%\vova{Maybe the relationship to seam placement heuristics can be discussed earlier...}


% experiments
%\justin{the same 3 cites are repeated several times in the intro, not sure if it's worth maybe reducing this a it to avoid an ``us vs them'' attitude}
% \vova{I agree, and I rephrased the sentence below}
%We demonstrate our method's capabilities by comparing to AutoCuts~\cite{Poranne2017Autocuts} as well as typical classic seam cutting methods~\cite{Gu2002Geometry,Sheffer2002Seamster}. % (Section~\ref{sec:results}). 
%Given the same initial UV map, we efficiently reach identical distortion bounds with shorter seam lengths. 
We evaluate our method on a large benchmark of 3D models, demonstrating that across mesh scales and problem difficulties it successfully satisfies user-specified distortion bounds while efficiently minimizing seam length. We demonstrate that our method outperforms alternative techniques and seam placement strategies, reaching comparable distortions with fewer seams. We also show that our method is robust to tessellation/topology and scales to large inputs.%, and is stable to changes in mesh structure.~\vova{what are these changes? }

% contribution
\alla{this is not strong enough IMHO - the two parts largely repeat one another.}
\paragraph{Contribution.}
Our core contribution is a new method that efficiently computes 2D mapping that balance distortion and seam length. We achieve this goal by first casting it as a constrained global parameterization problem that enables UV maps with specified distortion bounds and locally-minimal seam length. 
We then solve the resulting constrained optimization problem using a novel  joint discrete-continuous optimization algorithm that couples the minimization of seam length and metric distortion for mesh parameterization. 
Key to our method are topological search strategies as well as a dual variable treatment to search for optimal cuts with bounded distortion. Our framework naturally handles global bijectivity constraints and enables the incorporation of additional user guidance.

%We present a novel algorithm that jointly optimizes seam placement/length~\danny{should choose one term here.} and metric distortion for mesh parameterization. %, \minchen{strengthen that "seam placement" refer not only to length, but also location? and distortion can be various kinds of distortion?}. 
%%justin shortened the following sentence
%%To do so, we construct a
%Our constrained formulation %that 
%enables users to optimize UV maps with specified distortion bounds and %while gaining 
%locally-minimal seam length without manual intervention.
%% (for e.g. changing scaling terms or regularizers). \justin{i don't understand the parenthetical, seems unnecessary}
%%
%Key to our method are topological search strategies as well as a dual variable treatment searching for optimal cuts with bounded distortion. Our framework naturally handles global bijectivity constraints and incorporates user guidance. 
%\vova{we will have user guidance examples, right?}
%%\justin{rephrased previous sentence to waffle on Danny's comment for now}% \danny{We should update what we want to say here about bijectivity - seems like there's a nice observation regrading how bijectivity actually makes the optimization both better and easier but we should be clear if this is the case - if so bijectivity is more than an "ad-on" and should be a first class citizen.} 