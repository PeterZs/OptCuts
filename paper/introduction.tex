% !TeX root = OptCuts.tex

\section{Introduction}
% context
Mapping three-dimensional meshes to the plane is a fundamental task in computer graphics.  Planar images are commonly used to store reflectance functions, normals, and displacements
for the mesh, providing a domain for painting, synthesizing, and manipulating texture and geometric details. 
%Mesh parameterization is a critical task in computer graphics, with applications including texture mapping, remeshing, and detail transfer.  
%\vova{I removed non-texture apps for now, because I'm not sure if our formulation is as easy to motivate for remeshing and detail transfer.}
At its core, parameterization seeks to find a mapping from a surface---typically represented as a triangle mesh---into the plane.  To do so, parameterization tools must cope with intertwined challenges in topology and geometry:  a high-quality parameterization must cut a surface into simple %disk-shape 
patches so that each can be mapped to the plane with a reasonably small level of distortion.

Given its broad applicability, it comes as no surprise that parameterization has long been a focus of research in geometry processing.  Algorithms in this domain focus on two key aspects of the problem.  Particularly well-studied are \emph{geometric} techniques that assume a surface has already been cut into disk-topology pieces that each need to be mapped into the plane while maintaining fixed connectivity; at this point, parameterization becomes a real-valued optimization problem that seeks to minimize changes in angles and areas while maintaining local or global injectivity. Complementing these techniques, \emph{topological} algorithms find reasonable seams partitioning a surface into individual pieces that can be parameterized.  

With a few notable exceptions, previous works treat seam placement and fixed-topology mapping as separate steps in the parameterization pipeline.  This is a key drawback, as seam placement and complexity have strong bearing on the best \emph{possible} geometric parameterization of each patch.  Coupling geometry and topology, however, requires navigating between two extremes: a zero-distortion but topologically complex parameterization maps every triangle into the plane independently, while a high-distortion but topologically simple mapping might only require puncturing a few points in the input surface.
%
%\vova{not sure if we need to discuss the two extremes. I also moved some prior work discussion here.} % justin kind of likes this sentence so he decided to comment out Vova's comment :-)
%
Most previous techniques rely on heuristics for seam placement, such as computing minimal spanning tree that traverses all points with high curvature~\cite{Sheffer2002Seamster}, cutting between points of maximal distortion~\cite{Gu2002Geometry}, or greedily introducing seams during iterative flattening~\cite{BoundedDistortParam:2002}. In contrast to these methods, we propose a joint optimization framework, where discrete and continuous steps minimize the same global objective. 

% task and object    
Our parameterization algorithm, {\em OptCuts}, %couples topology and geometry. OptCuts %<--- already said this
is a jointly discrete-continuous optimization that progressively updates seam placements in between distortion minimizations to search for a locally optimal UV map satisfying an arbitrary, user-provided, distortion bound. 
%
We measure the trade-off between topology and geometry by balancing a distortion measure of choice, e.g.\ the symmetric Dirichlet energy~\cite{Smith2015Bijective}, with normalized seam length, reaching a parameterization that is near-stationary with respect to both seam placement and coordinate positions. % within a bounded number of iterations. % Justin removed --- I'm not sure this is a feature worth selling unless the bound is favorable
%\minchen{[NOTE] (Here stationary w.r.t. UV topology is only in the approximation sense, because there might still be basic topological operations that could decrease the objective but end up not chosen because it is filtered out or its locally evaluated energy decrease is not the largest one.)}

% self-weighting
%Although we acquire adaptivity to various inputs by normalizing the energy, %<-- not sure what this means
Measuring a balance between distortion and seam length has previously required a choice of a relative scaling factor between these two objectives.  From a practical perspective, it is difficult for users to choose such a coefficient. %trading off between the two. 
%Likewise, i
In practice, for high-quality solutions this balancing factor must be %somehow 
manually updated---often by user intervention during the parametrization process\ \cite{Poranne2017Autocuts}. We instead construct our coupled seam and mapping optimization as a \emph{constrained} problem. We propose to find locally minimal seam lengths for any user-set distortion bound. Treating distortion bounds as a hard inequality constraint guarantees a pre-specified level of geometric quality, while simultaneously enabling the exploration of optimal seams satisfying the bound. %In turn, o %<--- not sure what ``in turn'' means in this context
In turn, as we show below our balancing scaling factor falls directly from our model problem as the \emph{Lagrange multiplier} of the distortion bound and is thus adaptively updated directly by seeking optimality during the course of minimization process.  %directly by our optimization method.
%(Section~\ref{sec:self_weighting}).

% challenge
%Another advantage of our method is that our optimization is combinatorial, 
%
%In contrast to previous work building up a parameterization from disconnected triangle soup~\cite{Poranne2017Autocuts},  or by cutting between points of maximal predicted distortion~\cite{Gu2002Geometry,Sheffer2002Seamster}, 
%
Instead of building up a parameterization from disconnected triangle soup~\cite{Poranne2017Autocuts}, our constrained optimization method minimizes seams combinatorially, directly extending real-valued distortion minimization to the regime where seams can be incrementally introduced by cutting and removed by merging. Distortion is typically reduced by line search in UV coordinate space; we now accompany this by introducing a secondary search procedure in ``topology space'': we alternate between reducing distortion on vertex position and introducing topology changes with respect to the first-order reduction they generate in our objective formed by the local weighted sum of distortion and seam length terms. %in each topology search iteration we first find a search direction that locally decrease the objective the most (in topology step, Section~\ref{sec:topologyStep}); and then we conduct a newly derived forward-tracking line search scheme alternated with distortion minimization iterations to decide the step-size (in smooth descent step, Section~\ref{sec:descentStep}).% too much detail for intro
%\vova{Maybe the relationship to seam placement heuristics can be discussed earlier...}


% experiments
%\justin{the same 3 cites are repeated several times in the intro, not sure if it's worth maybe reducing this a it to avoid an ``us vs them'' attitude}
% \vova{I agree, and I rephrased the sentence below}
%We demonstrate our method's capabilities by comparing to AutoCuts~\cite{Poranne2017Autocuts} as well as typical classic seam cutting methods~\cite{Gu2002Geometry,Sheffer2002Seamster}. % (Section~\ref{sec:results}). 
%Given the same initial UV map, we efficiently reach identical distortion bounds with shorter seam lengths. 
We evaluate our method on a large benchmark of 3D models, demonstrating that across mesh scales and problem difficulties it successfully satisfies user-specified distortion bounds while efficiently minimizing seam length. We demonstrate that our method outperforms alternative techniques and seam placement strategies, reaching comparable distortions with fewer seams. We also show that our method is robust to tessellation/topology and scales to large inputs.%, and is stable to changes in mesh structure.~\vova{what are these changes? }

% contribution
\subsection{Contributions.}

In order to efficiently and automatically optimize both mapping and seam quality 
\begin{itemize}
  \item We propose a constrained global parameterization problem formulation to enable UV maps with specified distortion bounds and locally-minimal seam length without manual intervention. Weighting terms between distortion and seam-quality are then adapted automatically, by construction, during minimization.
\item To minimize our constrained optimization problem we present a novel algorithm, \emph{OptCuts} a joint discrete-continuous optimization that couples the minimization of seam length and metric distortion for mesh parameterization. 
\end{itemize}

Key to our method are topological search strategies as well as a dual variable treatment to search for optimal cuts with bounded distortion. Our framework naturally handles global bijectivity constraints and enables the incorporation of additional user guidance.

%We present a novel algorithm that jointly optimizes seam placement/length~\danny{should choose one term here.} and metric distortion for mesh parameterization. %, \minchen{strengthen that "seam placement" refer not only to length, but also location? and distortion can be various kinds of distortion?}. 
%%justin shortened the following sentence
%%To do so, we construct a
%Our constrained formulation %that 
%enables users to optimize UV maps with specified distortion bounds and %while gaining 
%locally-minimal seam length without manual intervention.
%% (for e.g. changing scaling terms or regularizers). \justin{i don't understand the parenthetical, seems unnecessary}
%%
%Key to our method are topological search strategies as well as a dual variable treatment searching for optimal cuts with bounded distortion. Our framework naturally handles global bijectivity constraints and incorporates user guidance. 
%\vova{we will have user guidance examples, right?}
%%\justin{rephrased previous sentence to waffle on Danny's comment for now}% \danny{We should update what we want to say here about bijectivity - seems like there's a nice observation regrading how bijectivity actually makes the optimization both better and easier but we should be clear if this is the case - if so bijectivity is more than an "ad-on" and should be a first class citizen.} 